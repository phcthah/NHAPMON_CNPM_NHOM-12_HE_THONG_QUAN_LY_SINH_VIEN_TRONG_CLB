{% extends 'layout.html' %}
{% block title %}Đăng ký thành viên{% endblock %}
{% block content %}
<h3>Đăng ký làm thành viên</h3>
{% if errors %}
  <div class="alert alert-danger"><ul class="mb-0">{% for e in errors %}<li>{{ e }}</li>{% endfor %}</ul></div>
{% endif %}
<form method="post" action="{{ url_for('members.signup') }}">
  <div class="mb-3">
    <label class="form-label">Tên</label>
    <input class="form-control" name="name" value="{{ form.name if form and form.name is not none else '' }}" required>
  </div>
  <div class="mb-3">
    <label class="form-label">Email</label>
    <input class="form-control" name="email" value="{{ form.email if form and form.email is not none else '' }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Nhóm (tuỳ chọn)</label>
    <select class="form-select" name="team_id">
      <option value="">-- Không chọn --</option>
      {% for t in teams %}
        <option value="{{ t.id }}" {% if form and form.team_id and form.team_id|int == t.id %}selected{% endif %}>{{ t.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Ghi chú</label>
    <input class="form-control" name="message" value="{{ form.message if form and form.message is not none else '' }}">
  </div>
  <button class="btn btn-primary">Gửi đăng ký</button>
</form>
{% endblock %}