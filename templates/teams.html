{% extends 'layout.html' %}
{% block title %}Nhóm{% endblock %}
{% block content %}
<h3>Nhóm</h3>
<div class="card mb-4">
  <div class="card-body">
    {% if errors %}
      <div class="alert alert-danger">
        <ul class="mb-0">
          {% for e in errors %}<li>{{ e }}</li>{% endfor %}
        </ul>
      </div>
    {% endif %}
    <form method="post" action="{{ url_for('teams.add_team') }}">
      <div class="input-group">
        <input class="form-control" name="name" placeholder="Tên nhóm" required value="{{ form.name if form and form.name is not none else '' }}">
        <button class="btn btn-success">Thêm</button>
      </div>
    </form>
  </div>
</div>

<ul class="list-group">
  {% for t in teams %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      {{ t.name }}
      <div>
        <a class="btn btn-sm btn-secondary" href="{{ url_for('teams.edit_team', id=t.id) }}">Sửa</a>
        <form method="post" action="{{ url_for('teams.delete_team', id=t.id) }}" style="display:inline; margin-left:6px">
          <button class="btn btn-sm btn-danger">Xóa</button>
        </form>
      </div>
    </li>
  {% endfor %}
</ul>
{% endblock %}