{% extends 'layout.html' %}
{% block title %}Đăng ký chờ duyệt{% endblock %}
{% block content %}
<h3>Đăng ký chờ duyệt</h3>
<table class="table table-striped">
  <thead><tr><th>#</th><th>Tên</th><th>Email</th><th>Nhóm</th><th>Ghi chú</th><th>Ngày</th><th>Hành động</th></tr></thead>
  <tbody>
    {% for p in pendings %}
      <tr>
        <td>{{ loop.index }}</td>
        <td>{{ p.name }}</td>
        <td>{{ p.email }}</td>
        <td>{{ p.team.name if p.team else '' }}</td>
        <td>{{ p.message }}</td>
        <td>{{ p.created_at.strftime('%Y-%m-%d') }}</td>
        <td>
          <form method="post" action="{{ url_for('members.approve_pending', id=p.id) }}" style="display:inline">
            <button class="btn btn-sm btn-success">Duyệt</button>
          </form>
          <form method="post" action="{{ url_for('members.delete_pending', id=p.id) }}" style="display:inline; margin-left:6px">
            <button class="btn btn-sm btn-danger" onclick="return confirm('Xóa đăng ký?')">Xóa</button>
          </form>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}