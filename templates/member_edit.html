{% extends 'layout.html' %}
{% block title %}Sửa thành viên{% endblock %}
{% block content %}
<h3>Sửa thành viên</h3>
<div class="card">
  <div class="card-body">
    {% if errors %}
      <div class="alert alert-danger">
        <ul class="mb-0">
          {% for e in errors %}<li>{{ e }}</li>{% endfor %}
        </ul>
      </div>
    {% endif %}
    <form method="post">
      <div class="mb-3">
        <label class="form-label">Tên</label>
        <input class="form-control" name="name" value="{{ form.name if form and form.name is not none else member.name }}" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input class="form-control" name="email" value="{{ form.email if form and form.email is not none else member.email }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Nhóm</label>
        <select class="form-select" name="team_id">
          <option value="">-- Nhóm --</option>
          {% for t in teams %}
            <option value="{{ t.id }}" {% if (form and form.team_id and form.team_id|int == t.id) or (not form and member.team_id == t.id) %}selected{% endif %}>{{ t.name }}</option>
          {% endfor %}
        </select>
      </div>
      <button class="btn btn-primary">Lưu</button>
      <a class="btn btn-secondary" href="{{ url_for('members.list_members') }}">Hủy</a>
    </form>
  </div>
</div>
{% endblock %}